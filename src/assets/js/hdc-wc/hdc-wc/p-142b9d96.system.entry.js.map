{"version":3,"names":["hdcSelectCss","HdcSelect","exports","this","maxHeight","class_1","prototype","onChangeValueFilterOptions","event","_this","searchText","filteredItems","_b","_a","items","filter","option","label","valueLabel","toLowerCase","includes","onClickSelectOption","value","valueKey","toggleDrop","clearInputSearch","changeValue","emit","el","blur","handleOnClick","ev","showDrop","contains","target","changeBlur","render","h","class","getClassSelectValue","onClick","getValueKey","width","height","viewBox","xmlns","fill","d","getClassInputAutocompleteContainer","style","getMaxHeight","onInput","onInputText","getClassInputAutocomplete","placeholder","map","index","key","input","element","querySelector","viewItems","concat","show","disabled","disable","lock","itemSelected","find","item","getValueByPath","split"],"sources":["src/components/atoms/hdc-select/hdc-select.scss?tag=hdc-select","src/components/atoms/hdc-select/hdc-select.tsx"],"sourcesContent":[".hdc-select {\n  min-width: 125px;\n  max-width: 100%;\n  font-family: sans-serif;\n  font-size: 0.8rem;\n  box-sizing: border-box;\n  position: relative;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  &-value {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    padding: 0.3rem 0.5rem;\n    cursor: pointer;\n    text-align: left;\n    color: #8a92a6;\n    min-height: 29px;\n    overflow: hidden;\n    background-color: #fff;\n    -webkit-background-clip: padding-box;\n    background-clip: padding-box;\n    border: 1px solid #eee;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    -webkit-border-radius: 0.25rem;\n    border-radius: 0.25rem;\n    -webkit-box-shadow: 0 0 0 0;\n    box-shadow: 0 0 0 0;\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n    -o-transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n\n    &.disabled {\n      background-color: #e9ecef;\n      cursor: auto;\n      pointer-events: none;\n    }\n\n    &-text {\n      text-overflow: ellipsis;\n      display: block;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    &-icon {\n      display: inline-flex;\n      transition: 0.3s;\n    }\n\n    &.show &-icon {\n      transform: rotate(-180deg);\n    }\n  }\n\n  &-container {\n    width: 100%;\n    display: none;\n    position: absolute;\n    z-index: 10;\n    color: #333;\n    overflow: auto;\n    padding: 0px;\n    background: rgb(255, 255, 255);\n    border-width: 1px;\n    border-style: solid;\n    border-color: rgb(170, 170, 170);\n    border-image: initial;\n    border-radius: 4px;\n\n    &::-webkit-scrollbar {\n      width: 0.5em;\n    }\n\n    &::-webkit-scrollbar-track {\n      border-left: 1px solid #ccc;\n    }\n     \n    &::-webkit-scrollbar-thumb {\n      background-color: #c49227;\n    }\n\n    &.show {\n      display: block;\n    }\n\n    &--top {\n      .hdc-input-autocomplete-item {\n        border-top: 1px solid #ced4da;\n        border-bottom: unset;\n      }\n    }\n  }\n\n  &-search {\n    width: 100%;\n    padding: 4px;\n    position: sticky;\n    top: 0;\n    background-color: #fff;\n\n    &-input {\n      width: 100%;\n      min-height: 24px;\n      font-size: 0.8rem;\n      box-shadow: none;\n      height: auto !important;\n      padding: 0px 10px 0px 3px;\n      margin: 0px;\n      outline: 0px;\n      border: 1px solid rgb(170, 170, 170);\n      border-radius: 3px;\n    }\n  }\n\n  &-options {\n    overflow: auto;\n    margin: 0px;\n    padding: 0;\n    width: 100%;\n  }\n\n  &-item {\n    display: list-item;\n    background-image: none;\n    position: static;\n    list-style: none;\n    padding: 5px 12px;\n    background-color: #fff;\n    cursor: pointer;\n    border-bottom: 1px solid #ced4da;\n    font-size: 0.9rem;\n\n    &:hover {\n      background-color: #ced4da;\n    }\n  }\n}","import { Modelable } from '@globals/interfaces';\nimport { Component, EventEmitter, Element, Prop, State, Event, h, Listen } from '@stencil/core';\nimport { getValueByPath } from '@utils';\n\n@Component({\n  tag: 'hdc-select',\n  styleUrl: 'hdc-select.scss',\n})\nexport class HdcSelect implements Modelable {\n  /**\n   * Element of hdc select\n   */\n  @Element() el: HTMLElement;\n  /**\n   * Prop value of hdc select\n   */\n  @Prop({ mutable: true }) value: string | number | object | null;\n  /**\n   * Prop disable of hdc select\n   */\n  @Prop({ mutable: true }) disable: boolean;\n  /**\n   * Prop lock of hdc select\n   */\n  @Prop({ mutable: true }) lock: boolean;\n  /**\n   * Prop items of hdc select\n   */\n  @Prop({ mutable: true }) items: Array<string | object> | undefined;\n  /**\n   * Prop view items of hdc select\n   */\n  @Prop({ mutable: true }) viewItems: number = 8;\n  /**\n   * Prop placeholder of hdc select\n   */\n  @Prop() placeholder: string = '-- Seleccione --';\n  /**\n   * Prop key of hdc select\n   */\n  @Prop() valueKey = 'id';\n  /**\n   * Prop string of hdc select\n   */\n  @Prop() valueLabel = 'name';\n  /**\n   * State filtered items of hdc select\n   */\n  @State() filteredItems: Array<string | object> = [];\n  /**\n   * State search text of hdc select\n   */\n  @State() searchText = '';\n  /**\n   * State search text of hdc select\n   */\n  @State() showDrop: boolean = false;\n\n  @Event() changeBlur: EventEmitter;\n  @Event() changeValue: EventEmitter;\n  /**\n     * Max height of hdc select\n     */\n  maxHeight = 20;\n\n  /**\n   * Determines whether change value filter options on\n   * @param event CustomEvent\n   */\n  onChangeValueFilterOptions(event: string) {\n    this.searchText = event;\n    this.filteredItems =\n      this.items?.filter((option) => {\n        const label =\n          this.valueLabel && typeof option === 'object' ? option[this.valueLabel] : option;\n\n        return label.toLowerCase().includes(this.searchText.toLowerCase());\n      }) ?? [];\n  }\n\n  /**\n   * Determines whether click select option on\n   * @param option string\n   */\n  onClickSelectOption(option: string | object | null) {\n    this.value = this.valueKey && option && typeof option === 'object' ? option[this.valueKey] : option;\n    this.filteredItems = [];\n    this.toggleDrop();\n    this.clearInputSearch();\n    this.changeValue.emit(this.value);\n    this.el.blur();\n  }\n\n  @Listen('click', { target: 'window' })\n  handleOnClick(ev){\n    if(this.showDrop) {\n      if (this.el.contains(ev.target)) {\n        // If click was inside, stop here\n        return;\n      }\n      this.showDrop = false;\n      this.clearInputSearch();\n      this.changeBlur.emit(ev);\n    }\n  }\n  \n  render() {\n    return (\n      <div class=\"hdc-select\">\n        <div \n          class={this.getClassSelectValue()}\n          onClick={() => this.toggleDrop()}>\n          <span class=\"hdc-select-value-text\">{this.getValueKey()}</span>\n          <span class=\"hdc-select-value-icon\">\n            <svg width=\"25\" height=\"15\" viewBox=\"0 0 392 448\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill=\"currentColor\" d=\"m192 284l186-162q15-17 2-30q-17-17-30-2L192 228L36 90Q23 75 6 92q-14 14 3 30z\"/>\n            </svg>\n          </span>\n        </div>\n        <div\n          class={this.getClassInputAutocompleteContainer()}\n          style={{ maxHeight: this.getMaxHeight() }}\n        >\n          <div class=\"hdc-select-search\">\n            <input \n              class=\"hdc-select-search-input\"\n              onInput={ev => this.onInputText(ev)}\n            />\n          </div>\n          <ul class={this.getClassInputAutocomplete()}>\n            <li\n              class=\"hdc-select-item\"\n              onClick={() => this.onClickSelectOption(null)}\n              >\n              {this.placeholder}\n            </li>\n            {this.filteredItems.map((option, index) => (\n              <li\n                key={index}\n                class=\"hdc-select-item\"\n                onClick={() => this.onClickSelectOption(option)}\n              >\n                {this.valueLabel && typeof option === 'object' ? option[this.valueLabel] : option}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  toggleDrop() {\n    if(!this.showDrop) {\n      this.onChangeValueFilterOptions('');\n    }\n    this.showDrop = !this.showDrop;\n  }\n\n  /**\n   * Determines whether input text on\n   * @param input Event\n   */\n  onInputText(input: InputEvent) {\n    const element = input.target as HTMLInputElement;\n\n    this.onChangeValueFilterOptions(element.value);\n  }\n\n  clearInputSearch() {\n    const element = this.el.querySelector('input.hdc-select-search-input') as HTMLInputElement;\n    if(element){\n      element.value = '';\n    }\n  }\n\n  /**\n   * Gets max height\n   * @returns { [key: string]: boolean }\n   */\n  getMaxHeight() {\n    return this.viewItems > 0 ? `${(this.maxHeight * this.viewItems) + 40}px` : '';\n  }\n\n  /**\n   * Gets class select container\n   * @returns { [key: string]: boolean }\n   */\n  getClassInputAutocompleteContainer() {\n    return {\n      'hdc-select-container': true,\n      'hdc-select-container--top': true,\n      'show': this.showDrop,\n    };\n  }\n\n  /**\n   * Gets class select\n   * @returns { [key: string]: boolean }\n   */\n  getClassInputAutocomplete() {\n    return {\n      'hdc-select-options': true,\n    };\n  }\n\n  /**\n   * Gets class select\n   * @returns { [key: string]: boolean }\n   */\n  getClassSelectValue() {\n    return {\n      'hdc-select-value': true,\n      'disabled': this.disable || this.lock,\n      'show': this.showDrop,\n    };\n  }\n\n  /**\n   * Gets value key\n   * @returns string\n   */\n  getValueKey() {\n    if (this.value) {\n      const itemSelected = this.items?.find((item: string | number | object) => {\n        return typeof item === 'object' ? item[this.valueKey] == this.value : item == this.value;\n      });\n      return (\n        this.valueKey && typeof itemSelected === 'object'\n          ? getValueByPath(itemSelected, this.valueLabel.split('.'))\n          : itemSelected\n      ) as string;\n    } else {\n      return this.placeholder;\n    }\n  }\n\n}\n"],"mappings":"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"}