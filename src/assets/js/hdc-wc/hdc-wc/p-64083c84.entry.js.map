{"version":3,"names":["hdcSelectCss","HdcSelect","this","maxHeight","onChangeValueFilterOptions","event","searchText","filteredItems","_b","_a","items","filter","option","label","valueLabel","toLowerCase","includes","onClickSelectOption","value","valueKey","toggleDrop","clearInputSearch","changeValue","emit","el","blur","handleOnClick","ev","showDrop","contains","target","changeBlur","render","h","class","getClassSelectValue","onClick","getValueKey","width","height","viewBox","xmlns","fill","d","getClassInputAutocompleteContainer","style","getMaxHeight","onInput","onInputText","getClassInputAutocomplete","placeholder","map","index","key","input","element","querySelector","viewItems","show","disabled","disable","lock","itemSelected","find","item","getValueByPath","split"],"sources":["src/components/atoms/hdc-select/hdc-select.scss?tag=hdc-select","src/components/atoms/hdc-select/hdc-select.tsx"],"sourcesContent":[".hdc-select {\n  min-width: 125px;\n  max-width: 100%;\n  font-family: sans-serif;\n  font-size: 0.8rem;\n  box-sizing: border-box;\n  position: relative;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  &-value {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    padding: 0.3rem 0.5rem;\n    cursor: pointer;\n    text-align: left;\n    color: #8a92a6;\n    min-height: 29px;\n    overflow: hidden;\n    background-color: #fff;\n    -webkit-background-clip: padding-box;\n    background-clip: padding-box;\n    border: 1px solid #eee;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    -webkit-border-radius: 0.25rem;\n    border-radius: 0.25rem;\n    -webkit-box-shadow: 0 0 0 0;\n    box-shadow: 0 0 0 0;\n    -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n    transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n    -o-transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n\n    &.disabled {\n      background-color: #e9ecef;\n      cursor: auto;\n      pointer-events: none;\n    }\n\n    &-text {\n      text-overflow: ellipsis;\n      display: block;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    &-icon {\n      display: inline-flex;\n      transition: 0.3s;\n    }\n\n    &.show &-icon {\n      transform: rotate(-180deg);\n    }\n  }\n\n  &-container {\n    width: 100%;\n    display: none;\n    position: absolute;\n    z-index: 10;\n    color: #333;\n    overflow: auto;\n    padding: 0px;\n    background: rgb(255, 255, 255);\n    border-width: 1px;\n    border-style: solid;\n    border-color: rgb(170, 170, 170);\n    border-image: initial;\n    border-radius: 4px;\n\n    &::-webkit-scrollbar {\n      width: 0.5em;\n    }\n\n    &::-webkit-scrollbar-track {\n      border-left: 1px solid #ccc;\n    }\n     \n    &::-webkit-scrollbar-thumb {\n      background-color: #c49227;\n    }\n\n    &.show {\n      display: block;\n    }\n\n    &--top {\n      .hdc-input-autocomplete-item {\n        border-top: 1px solid #ced4da;\n        border-bottom: unset;\n      }\n    }\n  }\n\n  &-search {\n    width: 100%;\n    padding: 4px;\n    position: sticky;\n    top: 0;\n    background-color: #fff;\n\n    &-input {\n      width: 100%;\n      min-height: 24px;\n      font-size: 0.8rem;\n      box-shadow: none;\n      height: auto !important;\n      padding: 0px 10px 0px 3px;\n      margin: 0px;\n      outline: 0px;\n      border: 1px solid rgb(170, 170, 170);\n      border-radius: 3px;\n    }\n  }\n\n  &-options {\n    overflow: auto;\n    margin: 0px;\n    padding: 0;\n    width: 100%;\n  }\n\n  &-item {\n    display: list-item;\n    background-image: none;\n    position: static;\n    list-style: none;\n    padding: 5px 12px;\n    background-color: #fff;\n    cursor: pointer;\n    border-bottom: 1px solid #ced4da;\n    font-size: 0.9rem;\n\n    &:hover {\n      background-color: #ced4da;\n    }\n  }\n}","import { Modelable } from '@globals/interfaces';\nimport { Component, EventEmitter, Element, Prop, State, Event, h, Listen } from '@stencil/core';\nimport { getValueByPath } from '@utils';\n\n@Component({\n  tag: 'hdc-select',\n  styleUrl: 'hdc-select.scss',\n})\nexport class HdcSelect implements Modelable {\n  /**\n   * Element of hdc select\n   */\n  @Element() el: HTMLElement;\n  /**\n   * Prop value of hdc select\n   */\n  @Prop({ mutable: true }) value: string | number | object | null;\n  /**\n   * Prop disable of hdc select\n   */\n  @Prop({ mutable: true }) disable: boolean;\n  /**\n   * Prop lock of hdc select\n   */\n  @Prop({ mutable: true }) lock: boolean;\n  /**\n   * Prop items of hdc select\n   */\n  @Prop({ mutable: true }) items: Array<string | object> | undefined;\n  /**\n   * Prop view items of hdc select\n   */\n  @Prop({ mutable: true }) viewItems: number = 8;\n  /**\n   * Prop placeholder of hdc select\n   */\n  @Prop() placeholder: string = '-- Seleccione --';\n  /**\n   * Prop key of hdc select\n   */\n  @Prop() valueKey = 'id';\n  /**\n   * Prop string of hdc select\n   */\n  @Prop() valueLabel = 'name';\n  /**\n   * State filtered items of hdc select\n   */\n  @State() filteredItems: Array<string | object> = [];\n  /**\n   * State search text of hdc select\n   */\n  @State() searchText = '';\n  /**\n   * State search text of hdc select\n   */\n  @State() showDrop: boolean = false;\n\n  @Event() changeBlur: EventEmitter;\n  @Event() changeValue: EventEmitter;\n  /**\n     * Max height of hdc select\n     */\n  maxHeight = 20;\n\n  /**\n   * Determines whether change value filter options on\n   * @param event CustomEvent\n   */\n  onChangeValueFilterOptions(event: string) {\n    this.searchText = event;\n    this.filteredItems =\n      this.items?.filter((option) => {\n        const label =\n          this.valueLabel && typeof option === 'object' ? option[this.valueLabel] : option;\n\n        return label.toLowerCase().includes(this.searchText.toLowerCase());\n      }) ?? [];\n  }\n\n  /**\n   * Determines whether click select option on\n   * @param option string\n   */\n  onClickSelectOption(option: string | object | null) {\n    this.value = this.valueKey && option && typeof option === 'object' ? option[this.valueKey] : option;\n    this.filteredItems = [];\n    this.toggleDrop();\n    this.clearInputSearch();\n    this.changeValue.emit(this.value);\n    this.el.blur();\n  }\n\n  @Listen('click', { target: 'window' })\n  handleOnClick(ev){\n    if(this.showDrop) {\n      if (this.el.contains(ev.target)) {\n        // If click was inside, stop here\n        return;\n      }\n      this.showDrop = false;\n      this.clearInputSearch();\n      this.changeBlur.emit(ev);\n    }\n  }\n  \n  render() {\n    return (\n      <div class=\"hdc-select\">\n        <div \n          class={this.getClassSelectValue()}\n          onClick={() => this.toggleDrop()}>\n          <span class=\"hdc-select-value-text\">{this.getValueKey()}</span>\n          <span class=\"hdc-select-value-icon\">\n            <svg width=\"25\" height=\"15\" viewBox=\"0 0 392 448\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill=\"currentColor\" d=\"m192 284l186-162q15-17 2-30q-17-17-30-2L192 228L36 90Q23 75 6 92q-14 14 3 30z\"/>\n            </svg>\n          </span>\n        </div>\n        <div\n          class={this.getClassInputAutocompleteContainer()}\n          style={{ maxHeight: this.getMaxHeight() }}\n        >\n          <div class=\"hdc-select-search\">\n            <input \n              class=\"hdc-select-search-input\"\n              onInput={ev => this.onInputText(ev)}\n            />\n          </div>\n          <ul class={this.getClassInputAutocomplete()}>\n            <li\n              class=\"hdc-select-item\"\n              onClick={() => this.onClickSelectOption(null)}\n              >\n              {this.placeholder}\n            </li>\n            {this.filteredItems.map((option, index) => (\n              <li\n                key={index}\n                class=\"hdc-select-item\"\n                onClick={() => this.onClickSelectOption(option)}\n              >\n                {this.valueLabel && typeof option === 'object' ? option[this.valueLabel] : option}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  toggleDrop() {\n    if(!this.showDrop) {\n      this.onChangeValueFilterOptions('');\n    }\n    this.showDrop = !this.showDrop;\n  }\n\n  /**\n   * Determines whether input text on\n   * @param input Event\n   */\n  onInputText(input: InputEvent) {\n    const element = input.target as HTMLInputElement;\n\n    this.onChangeValueFilterOptions(element.value);\n  }\n\n  clearInputSearch() {\n    const element = this.el.querySelector('input.hdc-select-search-input') as HTMLInputElement;\n    if(element){\n      element.value = '';\n    }\n  }\n\n  /**\n   * Gets max height\n   * @returns { [key: string]: boolean }\n   */\n  getMaxHeight() {\n    return this.viewItems > 0 ? `${(this.maxHeight * this.viewItems) + 40}px` : '';\n  }\n\n  /**\n   * Gets class select container\n   * @returns { [key: string]: boolean }\n   */\n  getClassInputAutocompleteContainer() {\n    return {\n      'hdc-select-container': true,\n      'hdc-select-container--top': true,\n      'show': this.showDrop,\n    };\n  }\n\n  /**\n   * Gets class select\n   * @returns { [key: string]: boolean }\n   */\n  getClassInputAutocomplete() {\n    return {\n      'hdc-select-options': true,\n    };\n  }\n\n  /**\n   * Gets class select\n   * @returns { [key: string]: boolean }\n   */\n  getClassSelectValue() {\n    return {\n      'hdc-select-value': true,\n      'disabled': this.disable || this.lock,\n      'show': this.showDrop,\n    };\n  }\n\n  /**\n   * Gets value key\n   * @returns string\n   */\n  getValueKey() {\n    if (this.value) {\n      const itemSelected = this.items?.find((item: string | number | object) => {\n        return typeof item === 'object' ? item[this.valueKey] == this.value : item == this.value;\n      });\n      return (\n        this.valueKey && typeof itemSelected === 'object'\n          ? getValueByPath(itemSelected, this.valueLabel.split('.'))\n          : itemSelected\n      ) as string;\n    } else {\n      return this.placeholder;\n    }\n  }\n\n}\n"],"mappings":"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"}