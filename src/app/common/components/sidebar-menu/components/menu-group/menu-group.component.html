<!-- <ul>
  <ng-template #recursiveList let-list>
    <li *ngFor="let item of list" (click)="listClick($event, item)">
      {{item.name}}
      <ul *ngIf="item.folders?.length > 0 && item.showSubfolders" [ngClass]="{ 'subfolder': selectedItem == item }">
        <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.folders }"></ng-container>
      </ul>
    </li>
  </ng-template>
  <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: list }"></ng-container>
</ul>
 -->
<li class="nav-item" *ngFor="let menuItem of opciones">
  <div class="nav-link pointer collapsed" [attr.aria-expanded]="menuItem.expanded" (click)="toggleMenu(menuItem.id!)">
    <i class="icon">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-sidebar feather-icon"
      >
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="9" y1="3" x2="9" y2="21"></line>
      </svg>
    </i>
    <span class="item-name">{{ menuItem.nombre }}</span>
    <i class="right-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </i>
  </div>

  <ul class="sub-nav collapse" [ngClass]="{ show: menuItem.expanded }">
    <li *ngFor="let item of menuItem.subOpciones" class="nav-item mt-2">
      <div *ngIf="item.subOpciones && item.subOpciones.length > 0">
        <div class="nav-link pointer collapsed" [attr.aria-expanded]="item.expanded" (click)="toggleMenu2(item.id!, menuItem.subOpciones!)">
          <i class="icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-sidebar feather-icon"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="9" y1="3" x2="9" y2="21"></line>
            </svg>
          </i>
          <span class="item-name">{{ item.nombre }}</span>
          <i class="right-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </i>
        </div>
        <ul class="sub-nav collapse" [ngClass]="{ show: item.expanded }">
          <li *ngFor="let subopcion of item.subOpciones" class="nav-item mt-2">
            <a
              class="nav-link pointer"
              [ngClass]="{ active: isOptionActive && isOptionActive(subopcion) }"
              (click)="optionClick(subopcion)"
            >
              <span class="item-name ms-0">{{ subopcion.nombre }}</span>
            </a>
          </li>
        </ul>
      </div>

      <div *ngIf="item.subOpciones == null || item.subOpciones.length <= 0">
        <a class="nav-link pointer" [ngClass]="{ active: isOptionActive && isOptionActive(item) }" (click)="optionClick(item)">
          <span class="item-name ms-0">{{ item.nombre }}</span>
        </a>
      </div>
    </li>
  </ul>
</li>
